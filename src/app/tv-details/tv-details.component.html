<main>
  <div class="detail-page" *ngIf="tv">
    <div class="banner" [ngStyle]="{'background-image': 'url('+ urlImage + tv?.backdrop_path + ')'}"></div>
    <div class="detail-header">
      <div class="container">
        <div class="row intro">
          <div class="col-4">
            <div class="thumbnail-movie-dt">
              <img class="image-fluid" src="https://image.tmdb.org/t/p/w300_and_h450_bestv2{{tv.poster_path}}"
                   alt="">
            </div>
          </div>
          <div class="col-8">
            <div>
              <h1>{{tv.name}}</h1>
              <ul class="nav media-dt">
                <li class="nav-item">
                  <img class="image-fluid" src="../../assets/Capture.png" alt="">
                </li>
                <li class="nav-item">
                  <a class="media-action" href="#">
                    <i class="fas fa-list"></i>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="media-action" href="#">
                    <i class="fas fa-heart"></i>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="media-action" href="#">
                    <i style="padding-left: 15px" class="fas fa-bookmark"></i>
                  </a>
                </li>
                <li *ngFor="let trailer of _video?.results | slice:0:1" class="nav-item" style="margin-top:12px">
                    <a class="trailer" data-fancybox="tv-trailer" [href]="youtubeUrl + trailer.key">
                      <i class="fas fa-play"></i>
                      play trailer
                    </a>
                </li>
              </ul>
            </div>
            <div class="overview-dt">
              <h3 class="title-section">Overview</h3>
              <p>
                {{tv.overview}}
              </p>
            </div>
            <div class="fearture-dt">
              <h3 class="title-section">Featured Crew</h3>
              <ul class="item-section">
                <li><b>Stephen McFeely</b></li>
                <li>Screenplay, Writer</li>
              </ul>
              <ul class="item-section">
                <li><b>Anthony Russo</b></li>
                <li>Director</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="detail-header-mb">
      <div class="banner-mb">
        <img class="image-fluid" src="https://image.tmdb.org/t/p/w1400_and_h450_face{{tv.backdrop_path}}" alt="">
        <img class="image-fluid poster" src="https://image.tmdb.org/t/p/w300_and_h450_bestv2{{tv.poster_path}}"
             alt="">
      </div>
      <div class="title-dt-mb">
        <div class="container">
          <h1 class="movie-dt-name">{{tv.original_name}}</h1>
          <div class="media-dt-mb">
            <a href="#" class="percent-mb">
              <div class="percent-fake">
                <img class="image-fluid" src="../../assets/Capture.png" alt="">
              </div>
              <p class="User-Score">User Score</p>
            </a>
            <div class="border"></div>
            <div *ngFor="let trailer of _video?.results | slice:0:1" class="trailer-mb">
                <a class="trailer" data-fancybox="tv-trailer-mb" [href]="youtubeUrl + trailer.key">
                  <i class="fas fa-play"></i>
                  play trailer
                </a>
            </div>
          </div>
        </div>
      </div>
      <div class="overview-mb">
        <div class="container">
          <div class="overview-dt">
            <h3 class="title-section">Overview</h3>
            <p>
              {{tv.overview}}
            </p>
          </div>
          <div class="fearture-dt">
            <h3 class="title-section">Featured Crew</h3>
            <ul class="item-section">
              <li><b>Stephen McFeely</b></li>
              <li>Screenplay, Writer</li>
            </ul>
            <ul class="item-section">
              <li><b>Anthony Russo</b></li>
              <li>Director</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <app-nav-wrapper></app-nav-wrapper>
  <div class="content-movie-details">
    <div class="row-content">
      <div class="white-col">
        <div class="white-width">
          <div class="pd-1">
            <h2>Top Billed Cast</h2>
            <div class="hide-scroll">
              <div *ngIf="_cast" class="cast-list">
                <div *ngFor="let cast of _cast.cast | slice:0:5" class="cast-card">
                  <a routerLink="/person/{{cast.id}}">
                    <div class="avatar-cast">
                      <img class="image-fluid" src="https://image.tmdb.org/t/p/w276_and_h350_face{{cast.profile_path}}"
                           alt="">
                    </div>
                    <div class="cast-info">
                      <p class="cast-name">
                        <b>{{cast.name}}</b>
                      </p>
                      <p class="role">
                        {{cast.character}}
                      </p>
                    </div>
                  </a>
                </div>
              </div>
            </div>
            <h2>Videos</h2>
            <div *ngIf="_video" class="video-trailer">
              <div *ngFor="let trailer of _video?.results" class="trailer-item">
                <iframe width="560" height="315" [src]="youtubeUrl + trailer.key |safe" frameborder="0"
                        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen></iframe>
              </div>
            </div>
          </div>
        </div>
        <div class="clear-both"></div>
        <div class="white-width">
          <div class="recommend-area">
            <h2>Recommendation</h2>
            <div  class="recommendation">
              <div *ngFor="let red of _tvRes?.results" class="recommen-card">
                <a routerLink="/tv/{{red.id}}">
                  <div class="thumbnail-recommen">
                    <img class="image-fluid image-radius"
                         src="https://image.tmdb.org/t/p/w250_and_h141_face{{red.backdrop_path}}" alt="">
                    <div class="sub-recommen">
                      <i class="fas fa-table"></i> {{red.first_air_date}}
                    </div>
                  </div>
                  <div class="recommen-name">
                    <p>{{red.name}}</p>
                    <p>{{red.vote_average}}<i class="fas fa-star"></i></p>
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="grey-col">
        <div class="grey-width">
          <div class="nav-social">
            <div class="border-r">
              <a href="#" class="social-link"><i class="fab fa-facebook-square fa-2x"></i></a>
              <a href="#" class="social-link"><i class="fab fa-twitter-square fa-2x"></i></a>
              <a href="#" class="social-link "><i class="fab fa-instagram fa-2x"></i></a>
            </div>
            <a href="#" class="social-link"><i class="fas fa-link fa-2x"></i></a>
          </div>
          <div *ngIf="tv" id="movie_about" class="movie_about">
            <p class="title-feature">Facts</p>
            <p class="title-feature">Status</p>
            <p class="item-feature">{{tv.status}}</p>
            <p class="title-feature">Released Infomation</p>
            <p class="item-feature">{{tv.first_air_date}}</p>
            <p class="title-feature">Original Language</p>
            <p class="item-feature">{{tv.original_language | uppercase}}</p>
            <p class="title-feature">Genres</p>
            <div *ngIf="tv.genres">
              <a *ngFor="let genres of tv.genres" href="#" class="genres-item">{{genres.name}}</a>
            </div>
            <p class="title-feature">KeyWord</p>
          </div>
          <div class="genres">
            <a *ngFor="let keyword of _key?.results" href="#" class="genres-item keyword-item">{{keyword.name}}</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

